"use strict";(self["webpackChunkbizlx"]=self["webpackChunkbizlx"]||[]).push([[6934],{6934:function(e,a,s){s.r(a),s.d(a,{default:function(){return y}});var t=s(344),i=s(4562),r=s(266),o=s(5125),l=s(4324),m=s(9258),n=s(9780),u=function(){var e=this,a=e._self._c;return a("div",[a("div",{staticClass:"row"},[e._m(0),a("div",{staticClass:"col-md-1 col-sm-6 my-2"},[a("router-link",{attrs:{to:"/admin/subadmins"}},[a(i.Z,{attrs:{color:"error"}},[a(l.Z,{staticClass:"mt-1",attrs:{left:""}},[e._v("mdi-format-list-bulleted")]),e._v("List")],1)],1)],1)]),[a("div",{staticClass:"card"},[a("div",{staticClass:"card-body my-4"},[a(o.Z,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(a){e.valid=a},expression:"valid"}},[a(n.Z,{attrs:{rules:e.nameRules,label:"Name"},model:{value:e.formData.name,callback:function(a){e.$set(e.formData,"name",a)},expression:"formData.name"}}),a(n.Z,{attrs:{rules:e.usernameRules,"error-messages":e.userNameVerifyMessage,label:"Username",dense:""},on:{keyup:e.userNameVerify},model:{value:e.formData.username,callback:function(a){e.$set(e.formData,"username",a)},expression:"formData.username"}}),a(n.Z,{attrs:{type:"email",rules:e.emailRules,"error-messages":e.emailVerifyMessage,label:"E-mail"},on:{keyup:e.emailVerify},model:{value:e.formData.email,callback:function(a){e.$set(e.formData,"email",a)},expression:"formData.email"}}),a(n.Z,{attrs:{type:"number",rules:e.phoneRules,"error-messages":e.phoneVerifyMessage,label:"Phone Number",dense:""},on:{keyup:e.phoneVerify},model:{value:e.formData.mobile_phone,callback:function(a){e.$set(e.formData,"mobile_phone",a)},expression:"formData.mobile_phone"}}),a(n.Z,{attrs:{"append-icon":e.show1?"mdi-eye":"mdi-eye-off",rules:[e.rules.required,e.rules.min],type:e.show1?"text":"password",name:"input-10-1",label:"Password",hint:"At least 8 characters",counter:""},on:{"click:append":function(a){e.show1=!e.show1}},model:{value:e.formData.password,callback:function(a){e.$set(e.formData,"password",a)},expression:"formData.password"}}),a(t.Z,{attrs:{label:"Select City",rules:e.cityRules,items:e.allCities,"item-value":"city_id","item-text":"city",dense:""},model:{value:e.formData.city_id,callback:function(a){e.$set(e.formData,"city_id",a)},expression:"formData.city_id"}}),a(r.Z,{staticClass:"py-0 d-flex",staticStyle:{"justify-content":"space-between"},attrs:{cols:"12",sm:"6",md:"12"}},[a("div"),a("div",{staticClass:"ms-3 pb-3"},[a(i.Z,{staticClass:"my-4 me-3 cred",on:{click:e.reset}},[e._v("CANCEL")]),e.isLoading?a(i.Z,{staticClass:"my-2 me-3 cred"},[e._v("Loading...")]):a(i.Z,{staticClass:"my-4 me-3 cred",attrs:{disabled:!e.valid},on:{click:e.formSubmit}},[e._v("SAVE")])],1)])],1)],1)])],a(m.Z,{staticClass:"snackbar-shadow",attrs:{timeout:e.snackbar.timeout},scopedSlots:e._u([{key:"action",fn:function({attrs:s}){return[a(i.Z,e._b({attrs:{color:"blue",text:""},on:{click:function(a){e.snackbar=!1}}},"v-btn",s,!1),[e._v("Close")])]}}]),model:{value:e.snackbar,callback:function(a){e.snackbar=a},expression:"snackbar"}},[e._v(e._s(e.text)+" ")])],2)},c=[function(){var e=this,a=e._self._c;return a("div",{staticClass:"col-md-11 col-sm-6"},[a("h3",{staticClass:"fw-bold"},[e._v("Add Sub-admin")])])}],d=s(6154),f={name:"SubAdmins",components:{},data:()=>({show1:!1,valid:!0,isLoading:!1,snackbar:!1,text:"",timeout:"",emailVerifyMessage:"",userNameVerifyMessage:"",phoneVerifyMessage:"",allCities:[],formData:{name:"",email:"",username:"",password:"",mobile_phone:"",city_id:"",user_role:"3",user_status:"1"},nameRules:[e=>!!e||"Name is required"],usernameRules:[e=>!!e||"Username is required",e=>e.split(" ").length<=1||"space not allowed",e=>/^[\w\s]+$/.test(e)||"Username may only contain letters, numbers and underscores"],emailRules:[e=>!!e||"E-mail is required.",e=>/.+@.+/.test(e)||"E-mail must be valid."],rules:{required:e=>!!e||"Password is required.",min:e=>e.length>=8||"Min 8 characters"},cityRules:[e=>!!e||"City is required."],phoneRules:[e=>!!e||"Phone number is required.",e=>10==e.length||"Phone number must be 10 characters."],checkbox:!1}),created(){this.all_Cities()},methods:{reset(){this.$refs.form.reset()},all_Cities(){d.Z.get("allcities").then((e=>{this.allCities=e.data.locations}))},emailVerify(){/.+@.+/.test(this.formData.email)&&d.Z.post("user/verify",{email:this.formData.email}).then((e=>{400==e.data.status?this.emailVerifyMessage=e.data.message:this.emailVerifyMessage=""}))},phoneVerify(){this.formData.mobile_phone.length>=9&&d.Z.post("user/verify",{mobile_phone:this.formData.mobile_phone}).then((e=>{400==e.data.status?this.phoneVerifyMessage=e.data.message:this.phoneVerifyMessage=""}))},userNameVerify(){this.formData.username&&d.Z.post("user/verify",{username:this.formData.username}).then((e=>{400==e.data.status?this.userNameVerifyMessage=e.data.message:this.userNameVerifyMessage=""}))},formSubmit(){const e={headers:{"content-type":"multipart/form-data"}};let a={name:this.formData.name,email:this.formData.email,username:this.formData.username,password:this.formData.password,mobile_phone:this.formData.mobile_phone,city_id:this.formData.city_id,user_role:this.formData.user_role,user_status:this.formData.user_status};""!=this.formData.name&&""!=this.formData.email&&""!=this.formData.username&&""!=this.formData.password&&""!=this.formData.mobile_phone&&""!=this.formData.city_id&&""!=this.formData.user_role&&(this.isLoading=!0,d.Z.post("admin/add/subadmin",a,e).then((e=>{this.isLoading=!1,this.snackbar=!0,this.text=e.data.message,this.timeout=3e3,this.$refs.form.reset()}))),this.$refs.form.validate()}}},h=f,p=s(1001),b=(0,p.Z)(h,u,c,!1,null,null,null),y=b.exports}}]);
//# sourceMappingURL=6934.d0b00552.js.map